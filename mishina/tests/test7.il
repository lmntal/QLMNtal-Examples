// token,{a,b},{a,a}.
// token,{<0,âˆž>a} :- {}.

Compiled Ruleset @602 
Compiled Rule 
	--atommatch:
	--memmatch:
		spec           [1, 1]
		jump           [L106, [0], [], []]
	--guard:L106:
		spec           [1, 1]
		jump           [L107, [0], [], []]
	--body:L107:
		spec           [1, 8]
		commit         ["_init", 0]
		newatom      [1, 0, 'token'_0]
		newmem       [2, 0, 0]
		newmem       [3, 0, 0]
		loadruleset    [0, @601]
		newatom      [4, 2, 'a'_0]
		newatom      [5, 2, 'b'_0]
		newatom      [6, 3, 'a'_0]
		newatom      [7, 3, 'a'_0]
		proceed        []


Compiled Ruleset @601 
Compiled Rule 
	--atommatch:
	--memmatch:
		spec           [1, 7]
		findatom       [1, 0, 'token'_0]
		anymem         [2, 0, 0, null]
		norules        [2]
		branch         [[
			findatom       [3, 2, 'a'_0]
			pushmap        [4, [3]]
            failreturn     []
		]]
		pickmaps       [5, 4, -1]
		not            [[
			anyatom        [6, 2]
			neqatom        [6, 2]
			mapneqatom     [6, [5, 3]]
			proceed        []
		]]
		commit         ["test", 0]
		removeatom     [1, 0]
		freeatom       [1]
		loop           [[
			popmap         [5]
			removeatom     [3, 2]
			freeatom       [3]
			proceed        []
		]]
		removeproxies  [2]
		enqueuemem     [2]
		insertproxies  [0, 2]
		proceed        []